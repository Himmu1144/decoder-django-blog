{% extends 'layout.html' %}
{% block blogActive %}active{% endblock blogActive %}

{% block title %}
Blog
{% endblock title %}

{% block body %}

<div class="container my-3">

  <div class="alert alert-success" role="alert">
    <h4 class="text-center text-underline">Articles by iCoder</h4>
  </div>

  {% for post in allposts %}
  <div class="col-md-12 my-4">
    <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
      <div class="col p-4 d-flex flex-column position-static">
        <strong class="d-inline-block mb-2 text-success">{{post.author}}</strong>
        <h3 class="mb-0">{{post.title}}</h3>
        <div class="mb-1 text-muted">{{post.date}}</div>
        <p class="mb-auto"><div class="preview">{{post.message|safe | truncatechars:500 }}</div></p>
        <a href="/blog/{{post.slug}}" class="stretched-link" style="color:#198754">Continue reading</a>
      </div>
      {% comment %} <div class="col-auto d-none d-lg-block">
        <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg" role="img"
          aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
          <title>Placeholder</title>
          <rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef"
            dy=".3em">Thumbnail</text>
        </svg>

      </div> {% endcomment %}
    </div>
  </div>
  {% endfor %}

</div>

{% endblock body %}

{% block js %}
<script>
  let previews = document.getElementsByClassName('preview');
  Array.from(previews).forEach((element)=>{
    element.innerHTML = element.innerText
  })

</script>
{% endblock js %}